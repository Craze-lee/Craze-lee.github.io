<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
<meta name="keywords" content="crazelee æŠ€æœ¯ ç»æµ">
<meta property="og:type" content="website">
<meta property="og:title" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
<meta property="og:url" content="http://craze-lee.github.io/index.html">
<meta property="og:site_name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
<meta property="og:description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
<meta name="twitter:description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">






  <link rel="canonical" href="http://craze-lee.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">ä½ è‹¥ç››å¼€ï¼Œæ¸…é£è‡ªæ¥</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-é¦–é¡µ menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-åˆ†ç±»">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-å½’æ¡£">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-æ ‡ç­¾">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-å…³äº">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äº</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>æœç´¢</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/07/02/ç½‘ç»œåè®®/2019-07-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/02/ç½‘ç»œåè®®/2019-07-01/" class="post-title-link" itemprop="url">TCPä¸‰æ¬¡æ¡æ‰‹</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-07-02 23:59:08" itemprop="dateCreated datePublished" datetime="2019-07-02T23:59:08+08:00">2019-07-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-07-01 23:19:25" itemprop="dateModified" datetime="2019-07-01T23:19:25+08:00">2019-07-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ç½‘ç»œ/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/07/02/ç½‘ç»œåè®®/2019-07-01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/07/02/ç½‘ç»œåè®®/2019-07-01/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/06/02/æ¯æ—¥ä¸€é¢/2019-06-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/02/æ¯æ—¥ä¸€é¢/2019-06-02/" class="post-title-link" itemprop="url">é¢è¯•é¢˜ï¼šTCPä¸‰æ¬¡æ¡æ‰‹</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-06-02 12:00:08 / ä¿®æ”¹æ—¶é—´ï¼š11:25:40" itemprop="dateCreated datePublished" datetime="2019-06-02T12:00:08+08:00">2019-06-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/æ¯æ—¥ä¸€é¢/" itemprop="url" rel="index"><span itemprop="name">æ¯æ—¥ä¸€é¢</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/06/02/æ¯æ—¥ä¸€é¢/2019-06-02/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/06/02/æ¯æ—¥ä¸€é¢/2019-06-02/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¢è¯•å®˜ï¼šä½ çŸ¥é“TCPæ¡æ‰‹å¤šå°‘æ¬¡å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ<br>æˆ‘ï¼šä¸‰æ¬¡æ¡æ‰‹ï¼Œemmâ€¦å› ä¸ºä»–ä»¬æ„Ÿæƒ…å¥½å§<br>é¢è¯•å®˜ï¼šå¥½çš„ï¼Œå›å»ç­‰æ¶ˆæ¯å§ã€‚</p>
<p>TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„æµç¨‹ï¼Œä¸ºä»€ä¹ˆæ–­å¼€è¿æ¥è¦4æ¬¡,å¦‚æœæ¡æ‰‹åªæœ‰ä¸¤æ¬¡ï¼Œä¼šå‡ºç°ä»€ä¹ˆ</p>
<h3 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h3><p>A: â€œä½ å¬å¾—åˆ°æˆ‘å—â€<br>B: â€œå¬å¾—åˆ°å‘€ï¼Œä½ å¬å¾—åˆ°æˆ‘å—â€<br>A: â€œæ©ï¼Œå¬å¾—åˆ°ï¼Œbalabala~â€</p>
<h3 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h3><p>A: â€œæˆ‘æ²¡è¯è¯´äº†â€<br>B: â€œå¥½â€<br>B: â€œé‚£æˆ‘æ‹œæ‹œäº†ï¼Œå…³é—¨äº†â€<br>A: â€œä½ å…³å§â€</p>
<p>A.. é€—ç•™ä¸€ä¼šï¼ˆ2mslï¼‰ï¼Œç¡®è®¤Bä¸å†å¼€é—¨è¯´è¯äº†ä¹Ÿå…³é—¨äº†</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/27/Golang/è¿›é˜¶/å¯å˜å‚æ•°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/27/Golang/è¿›é˜¶/å¯å˜å‚æ•°/" class="post-title-link" itemprop="url">æœªå‘½å</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-27 10:18:32 / ä¿®æ”¹æ—¶é—´ï¼š10:18:54" itemprop="dateCreated datePublished" datetime="2019-05-27T10:18:32+08:00">2019-05-27</time>
            

            
              

              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/27/Golang/è¿›é˜¶/å¯å˜å‚æ•°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/27/Golang/è¿›é˜¶/å¯å˜å‚æ•°/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p># </p>
<p><a href="https://studygolang.com/articles/11965" target="_blank" rel="noopener">https://studygolang.com/articles/11965</a></p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/21/Golang/è¿›é˜¶/å®šæ—¶å™¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/21/Golang/è¿›é˜¶/å®šæ—¶å™¨/" class="post-title-link" itemprop="url">ã€Golangè¿›é˜¶ã€‘å®šæ—¶å™¨</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-21 14:19:08 / ä¿®æ”¹æ—¶é—´ï¼š15:03:18" itemprop="dateCreated datePublished" datetime="2019-05-21T14:19:08+08:00">2019-05-21</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/è¿›é˜¶/" itemprop="url" rel="index"><span itemprop="name">è¿›é˜¶</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/21/Golang/è¿›é˜¶/å®šæ—¶å™¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/21/Golang/è¿›é˜¶/å®šæ—¶å™¨/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Ticker"><a href="#Ticker" class="headerlink" title="Ticker"></a>Ticker</h2><h3 id="1-ç”¨æ—¶é—´é˜»å¡ä¸»ç¨‹åºï¼Œä»è€Œæ§åˆ¶ticker"><a href="#1-ç”¨æ—¶é—´é˜»å¡ä¸»ç¨‹åºï¼Œä»è€Œæ§åˆ¶ticker" class="headerlink" title="1. ç”¨æ—¶é—´é˜»å¡ä¸»ç¨‹åºï¼Œä»è€Œæ§åˆ¶ticker"></a>1. ç”¨æ—¶é—´é˜»å¡ä¸»ç¨‹åºï¼Œä»è€Œæ§åˆ¶ticker</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   <span class="comment">// åˆå§‹åŒ–tickerï¼Œæ¯ç§’æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">	<span class="keyword">var</span> ticker = time.NewTicker(<span class="number">1</span> * time.Second)</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> t := <span class="keyword">range</span> ticker.C &#123;</span><br><span class="line">			fmt.Println(<span class="string">"tick at"</span>, t)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line">   <span class="comment">// é˜»å¡ä¸»ç¨‹åºé˜²é€€å‡º</span></span><br><span class="line">	time.Sleep(time.Second * <span class="number">5</span>)</span><br><span class="line">	<span class="comment">// ä¸»åŠ¨ç»ˆæ­¢</span></span><br><span class="line">	ticker.Stop()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<blockquote>
<p>ticker1 at 2019-05-21 14:57:56.562591 +0800 CST m=+1.005065934<br>ticker1 at 2019-05-21 14:57:57.562549 +0800 CST m=+2.005016651<br>ticker1 at 2019-05-21 14:57:58.558122 +0800 CST m=+3.000583914<br>ticker1 at 2019-05-21 14:57:59.563205 +0800 CST m=+4.005660201<br>ticker1 at 2019-05-21 14:58:00.562585 +0800 CST m=+5.005033303</p>
</blockquote>
<h3 id="2-ç”¨channelæ¥ç²¾å‡†æ§åˆ¶æ¬¡æ•°"><a href="#2-ç”¨channelæ¥ç²¾å‡†æ§åˆ¶æ¬¡æ•°" class="headerlink" title="2. ç”¨channelæ¥ç²¾å‡†æ§åˆ¶æ¬¡æ•°"></a>2. ç”¨channelæ¥ç²¾å‡†æ§åˆ¶æ¬¡æ•°</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	<span class="keyword">var</span> ticker2 = time.NewTicker(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">  </span><br><span class="line">	<span class="comment">// åˆ›å»ºbufferä¸º2çš„channel</span></span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">2</span>)</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> t := <span class="keyword">range</span> ticker2.C&#123;</span><br><span class="line">			<span class="comment">// å¾€channelå†™æ•°æ®ï¼Œå†™æ»¡bufferåç»ˆæ­¢ç¨‹åº</span></span><br><span class="line">			c &lt;- <span class="number">1</span></span><br><span class="line">			fmt.Println(<span class="string">"ticker2 at "</span>, t)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	time.Sleep(time.Second * <span class="number">500</span>)</span><br><span class="line">	fmt.Println(<span class="string">"ticker stopped"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœ</p>
<blockquote>
<p>ticker2 at  2019-05-21 14:57:55.65885 +0800 CST m=+0.101330668<br>ticker2 at  2019-05-21 14:57:55.758399 +0800 CST m=+0.200878747</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/20/Golang/è¿›é˜¶/è¯»å†™æ–‡ä»¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/20/Golang/è¿›é˜¶/è¯»å†™æ–‡ä»¶/" class="post-title-link" itemprop="url">ã€Golangè¿›é˜¶ã€‘è¯»å†™æ–‡ä»¶</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-20 11:19:08 / ä¿®æ”¹æ—¶é—´ï¼š11:04:39" itemprop="dateCreated datePublished" datetime="2019-05-20T11:19:08+08:00">2019-05-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/è¿›é˜¶/" itemprop="url" rel="index"><span itemprop="name">è¿›é˜¶</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/20/Golang/è¿›é˜¶/è¯»å†™æ–‡ä»¶/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/20/Golang/è¿›é˜¶/è¯»å†™æ–‡ä»¶/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/20/æ¯æ—¥ä¸€é¢/å¤´æ¡é¢è¯•é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/20/æ¯æ—¥ä¸€é¢/å¤´æ¡é¢è¯•é¢˜/" class="post-title-link" itemprop="url">æœªå‘½å</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-20 10:31:35" itemprop="dateCreated datePublished" datetime="2019-05-20T10:31:35+08:00">2019-05-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-21 23:50:23" itemprop="dateModified" datetime="2019-05-21T23:50:23+08:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/20/æ¯æ—¥ä¸€é¢/å¤´æ¡é¢è¯•é¢˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/20/æ¯æ—¥ä¸€é¢/å¤´æ¡é¢è¯•é¢˜/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p># </p>
<p>æ¥è‡ª<a href="https://www.v2ex.com/t/565577#reply9" target="_blank" rel="noopener">v2ex</a></p>
<p>1.Redis å¸¸è§é—®é¢˜ï¼ˆ 100%ï¼‰<br>æ•°æ®ç»“æ„ï¼Œä¸ memcached çš„åŒºåˆ«ï¼Œçº¿ç¨‹ï¼Œio å¤šè·¯å¤ç”¨ï¼ˆ selectï¼Œpollï¼Œepoll ï¼‰<br>2.zookeeper ï¼ˆ 100%ï¼‰<br>ç”¨æ³•ï¼Œåˆ†å¸ƒå¼é”ï¼Œzab åè®®<br>3.MySQL å¸¸è§é—®é¢˜ï¼ˆ 100%ï¼‰<br>å­˜å‚¨å¼•æ“ï¼Œé”ï¼Œéš”ç¦»çº§åˆ«<br>4.è®¡ç®—æœºç½‘è·¯ï¼ˆå…¨ç¨‹æŠ±ç€ç”µè„‘è¾¹æŸ¥è¾¹é—®ï¼‰ï¼š<br>tcp å››æ¬¡æŒ¥æ‰‹ï¼ˆç®€å•çš„è¯´äº†ä¸‹ FIN å’Œ ACK ï¼‰<br>é—®ä»€ä¹ˆæ—¶å€™å…³é—­è¿æ¥ï¼Ÿ closewait å’Œ timedwaited å‘ç”Ÿåœ¨å“ªé‡Œï¼ˆä¸€å¼€å§‹æ²¡è¯´å¯¹ï¼Œåœ¨å¼•å¯¼ä¸‹è¯´å‡ºï¼‰</p>
<p>tcp å’Œ UDP çš„åŒºåˆ«ï¼ˆ 100%ï¼‰<br>ç½‘ç»œåˆ†å±‚æ¯ä¸€å±‚å…·ä½“æ˜¯ä»€ä¹ˆï¼ˆæˆ‘å›ç­”æ²¡è®°ä½åªè®°å¾—æœ€ä¸Šå±‚åº”ç”¨å±‚ï¼Œæœ€ä¸‹å±‚ç‰©ç†å±‚ï¼ŒHTTPâ†’TCP/ UDPâ†’IP ï¼‰<br>DNS æ˜¯ä»€ä¹ˆï¼ˆå¿˜äº†ï¼ŒçœŸå¿˜äº†ğŸ˜‚ï¼Œæˆ‘éƒ½ä½©æœæˆ‘è‡ªå·±è¿™å¿˜äº†ï¼‰<br>ä»€ä¹ˆæ˜¯ä¸€æ¡è¿æ¥ï¼Œå¦‚ä½•ç¡®å®šä¸€æ¡è¿æ¥ï¼ˆ emmmï¼Œæ ¹æ®è¿æ¥ id ï¼Ÿè¢«æ€¼ï¼‰<br>é•¿è¿æ¥å’ŒçŸ­è¿æ¥çš„åŒºåˆ«ï¼ˆä¸å¤ªäº†è§£ï¼‰</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/18/Golang/é›¶åŸºç¡€å…¥é—¨/07 Channel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/18/Golang/é›¶åŸºç¡€å…¥é—¨/07 Channel/" class="post-title-link" itemprop="url">ã€Golangé›¶åŸºç¡€å…¥é—¨ã€‘07 Channel</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-18 11:59:08" itemprop="dateCreated datePublished" datetime="2019-05-18T11:59:08+08:00">2019-05-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-20 10:56:58" itemprop="dateModified" datetime="2019-05-20T10:56:58+08:00">2019-05-20</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/é›¶åŸºç¡€å…¥é—¨/" itemprop="url" rel="index"><span itemprop="name">é›¶åŸºç¡€å…¥é—¨</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/18/Golang/é›¶åŸºç¡€å…¥é—¨/07 Channel/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/18/Golang/é›¶åŸºç¡€å…¥é—¨/07 Channel/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>channel æ˜¯goroutineçš„é€šé“ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥åœ¨égoroutineé‡Œç›´æ¥è¿›è¡Œæ“ä½œï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">c &lt;- <span class="number">1</span></span><br><span class="line"></span><br><span class="line">fatal error: all goroutines are asleep - deadlock!</span><br></pre></td></tr></table></figure>
<p><img src="/images/15580754924265.jpg" alt></p>
<p>var i chan int // åŒå‘channel</p>
<p>var i chan&lt;- int // å•å‘ï¼Œåªèƒ½æ”¶æ•°æ®<br>i &lt;- 1 // è¿™æ˜¯å…è®¸çš„<br>j &lt;- i // è¿™æ˜¯ä¸å…è®¸çš„</p>
<p>var i &lt;-chan int // å•å‘ï¼Œåªèƒ½å‘æ•°æ®</p>
<h3 id="buffer-channel"><a href="#buffer-channel" class="headerlink" title="buffer channel"></a>buffer channel</h3><p>bufferå¯ä»¥å‡å°‘goroutineçš„åˆ‡æ¢ï¼Œä¾‹å¦‚ä¸‹é¢ï¼Œåˆ›å»ºäº†3bufferçš„channelï¼Œåœ¨å¾€channelå†™æ•°æ®æ—¶ï¼Œå‰3ä¸ªå†™å…¥éƒ½æ˜¯ä¼šå­˜å‚¨åˆ°bufferï¼Œä½†æ˜¯å†™ç¬¬4ä¸ªçš„æ—¶å€™ï¼Œä¼šå‘ç°æŠ¥é”™ï¼Œ<code>fatal error: all goroutines are asleep - deadlock!</code>ï¼Œå› ä¸ºbufferå·²æ»¡ï¼Œæ²¡æœ‰goroutineå¤„ç†è¯¥channelæ•°æ®ã€‚æ‰€ä»¥å¦‚æœæ˜¯æ²¡æœ‰bufferçš„channelï¼Œæ¯æ¬¡å†™å…¥éƒ½ä¼šæœ‰ä¸€æ¬¡goroutineçš„åˆ‡æ¢ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bufferChannel</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">3</span>) <span class="comment">// åˆ›å»ºå¸¦æœ‰3 bufferçš„channel</span></span><br><span class="line">	c &lt;- <span class="string">'a'</span></span><br><span class="line">	c &lt;- <span class="string">'b'</span></span><br><span class="line">	c &lt;- <span class="string">'c'</span></span><br><span class="line">	<span class="comment">//c &lt;- 'd'             // å–æ¶ˆæ³¨é‡Šåä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰æ¥å—å¤„ç†channelçš„æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="channel-close"><a href="#channel-close" class="headerlink" title="channel close"></a>channel close</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">worker</span><span class="params">(c <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> n := <span class="keyword">range</span> c &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"received %c\n"</span>, n)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">closeDemo</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">3</span>)</span><br><span class="line">	<span class="keyword">go</span> worker(c)</span><br><span class="line">	c &lt;- <span class="string">'a'</span></span><br><span class="line">	c &lt;- <span class="string">'b'</span></span><br><span class="line">	c &lt;- <span class="string">'c'</span></span><br><span class="line">	<span class="built_in">close</span>(c)     <span class="comment">// ä¸»åŠ¨å…³é—­channelï¼Œå¦‚æœä¸ä¸»åŠ¨å…³é—­ï¼Œgoroutineä¼šä¸€ç›´æ”¶æ•°æ®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œé€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜</p>
<p>è¿™ç¯‡<a href="https://blog.golang.org/share-memory-by-communicating" target="_blank" rel="noopener">æ–‡ç« </a>é‡Œé¢è¯´çš„æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œä½¿ç”¨å…±äº«å†…å­˜çš„è¯åœ¨å¤šçº¿ç¨‹çš„åœºæ™¯ä¸‹ä¸ºäº†å¤„ç†ç«æ€ï¼Œéœ€è¦åŠ é”ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚å¦å¤–ä½¿ç”¨è¿‡å¤šçš„é”ï¼Œå®¹æ˜“ä½¿å¾—ç¨‹åºçš„ä»£ç é€»è¾‘åšæ¶©éš¾æ‡‚ï¼Œå¹¶ä¸”å®¹æ˜“ä½¿ç¨‹åºæ­»é”ï¼Œæ­»é”äº†ä»¥åæ’æŸ¥é—®é¢˜ç›¸å½“å›°éš¾ï¼Œç‰¹åˆ«æ˜¯å¾ˆå¤šé”åŒæ—¶å­˜åœ¨çš„æ—¶å€™ã€‚</p>
<p>goè¯­è¨€çš„channelä¿è¯åŒä¸€ä¸ªæ—¶é—´åªæœ‰ä¸€ä¸ªgoroutineèƒ½å¤Ÿè®¿é—®é‡Œé¢çš„æ•°æ®ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§ä¼˜é›…ç®€å•çš„å·¥å…·ï¼Œæ‰€ä»¥goåŸç”Ÿçš„åšæ³•å°±æ˜¯ä½¿ç”¨channleæ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…±äº«å†…å­˜æ¥é€šä¿¡ã€‚</p>
<p><a href="http://legendtkl.com/2017/07/30/understanding-golang-channel/" target="_blank" rel="noopener">http://legendtkl.com/2017/07/30/understanding-golang-channel/</a></p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/16/php/åƒåœ¾å›æ”¶GC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/php/åƒåœ¾å›æ”¶GC/" class="post-title-link" itemprop="url">ã€PHPã€‘åƒåœ¾å›æ”¶GC</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-16 11:59:08 / ä¿®æ”¹æ—¶é—´ï¼š11:16:15" itemprop="dateCreated datePublished" datetime="2019-05-16T11:59:08+08:00">2019-05-16</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/16/php/åƒåœ¾å›æ”¶GC/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/16/php/åƒåœ¾å›æ”¶GC/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="åƒåœ¾å›æ”¶æ˜¯ä»€ä¹ˆ"><a href="#åƒåœ¾å›æ”¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="åƒåœ¾å›æ”¶æ˜¯ä»€ä¹ˆ"></a>åƒåœ¾å›æ”¶æ˜¯ä»€ä¹ˆ</h2><p>å†™äº†è¿™ä¹ˆå¤šå¹´çš„PHPï¼Œä½ è¿˜ä¸çŸ¥é“å®ƒçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿä¸æ€•è‡ªå·±è¢«å›æ”¶äº†å—ï¼Ÿ</p>
<p>æˆ‘è§‰å¾—ä½ å¾—æœ‰åŒ (é™)å¿ƒ(è–ª)ç²¾ç¥å•Šã€‚</p>
<p><img src="/images/15579764803661.jpg" alt="-w419"></p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/14/MySQL/MySQLç´¢å¼•2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/14/MySQL/MySQLç´¢å¼•2/" class="post-title-link" itemprop="url">ã€MySQL åŸç†ã€‘02 ç´¢å¼•åŸç†ä¸å®ç°ï¼ˆäºŒï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-14 10:59:08" itemprop="dateCreated datePublished" datetime="2019-05-14T10:59:08+08:00">2019-05-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-30 02:02:47" itemprop="dateModified" datetime="2019-05-30T02:02:47+08:00">2019-05-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/åŸç†åˆ†æ/" itemprop="url" rel="index"><span itemprop="name">åŸç†åˆ†æ</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/14/MySQL/MySQLç´¢å¼•2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/14/MySQL/MySQLç´¢å¼•2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p><img src="/images/15591512591297.jpg" alt="w200"></p>
<p>ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://mp.weixin.qq.com/s/dhGAUs-S3RbBaOL2yxh1Iw" target="_blank" rel="noopener">ã€ŠMySQLç´¢å¼•ä¸ºä»€ä¹ˆè¦ç”¨B+æ ‘ã€‹</a>è®²äº†MySQLä¸ºä»€ä¹ˆé€‰æ‹©ç”¨B+æ ‘æ¥ä½œä¸ºåº•å±‚å­˜å‚¨ç»“æ„ï¼Œæäº†ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>B+æ ‘ç´¢å¼•å¹¶ä¸èƒ½ç›´æ¥æ‰¾åˆ°è¡Œï¼Œåªæ˜¯æ‰¾åˆ°è¡Œæ‰€åœ¨çš„é¡µï¼Œé€šè¿‡æŠŠæ•´é¡µè¯»å…¥å†…å­˜ï¼Œå†åœ¨å†…å­˜ä¸­æŸ¥æ‰¾ã€‚</li>
<li>ç´¢å¼•çš„B+æ ‘é«˜åº¦ä¸€èˆ¬ä¸º2-4å±‚ï¼ŒæŸ¥æ‰¾è®°å½•æ—¶æœ€å¤šåªéœ€è¦2-4æ¬¡IOã€‚</li>
</ol>
<p>ä¸ºè¿›ä¸€æ­¥çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä»Šå¤©æ¥èŠèŠB+æ ‘ç´¢å¼•åœ¨ç‰©ç†ç£ç›˜ä¸Šæ˜¯æ€ä¹ˆè®¾è®¡å­˜å‚¨çš„ã€‚</p>
<h2 id="ä¸€ã€ç†è§£ä¸ºä»€ä¹ˆè¦å‡å°‘ç£ç›˜IOæ¬¡æ•°"><a href="#ä¸€ã€ç†è§£ä¸ºä»€ä¹ˆè¦å‡å°‘ç£ç›˜IOæ¬¡æ•°" class="headerlink" title="ä¸€ã€ç†è§£ä¸ºä»€ä¹ˆè¦å‡å°‘ç£ç›˜IOæ¬¡æ•°"></a>ä¸€ã€ç†è§£ä¸ºä»€ä¹ˆè¦å‡å°‘ç£ç›˜IOæ¬¡æ•°</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒMySQLçš„æ•°æ®å®é™…æ˜¯å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œè€Œç£ç›˜IOçš„æŸ¥æ‰¾é€Ÿåº¦æ˜¯è¦è¿œå°äºå†…å­˜é€Ÿåº¦çš„ï¼Œæ‰€ä»¥å‡å°‘ç£ç›˜IOçš„æ¬¡æ•°èƒ½å¾ˆå¤§ç¨‹åº¦çš„æé«˜MySQLæ€§èƒ½ã€‚</p>
<h3 id="1-1-ç£ç›˜IOä¸ºä»€ä¹ˆæ…¢"><a href="#1-1-ç£ç›˜IOä¸ºä»€ä¹ˆæ…¢" class="headerlink" title="1.1 ç£ç›˜IOä¸ºä»€ä¹ˆæ…¢"></a>1.1 ç£ç›˜IOä¸ºä»€ä¹ˆæ…¢</h3><p>å…ˆæ¸©ä¹ ä¸‹çŸ¥è¯†ç‚¹ï¼š<strong>ç£ç›˜IOæ—¶é—´ = å¯»é“ + ç£ç›˜æ—‹è½¬ + æ•°æ®ä¼ è¾“æ—¶é—´</strong></p>
<p>ä»ç£ç›˜è¯»å–æ•°æ®æ—¶ï¼Œç³»ç»Ÿä¼šå°†é€»è¾‘åœ°å€å‘ç»™ç£ç›˜ï¼Œç£ç›˜å°†é€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼ˆå“ªä¸ªç£é“ï¼Œå“ªä¸ªæ‰‡åŒºï¼‰ã€‚<br>ç£å¤´è¿›è¡Œæœºæ¢°è¿åŠ¨ï¼Œå…ˆæ‰¾åˆ°ç›¸åº”ç£é“ï¼Œå†æ‰¾è¯¥ç£é“çš„å¯¹åº”æ‰‡åŒºï¼Œæ‰‡åŒºæ˜¯ç£ç›˜çš„æœ€å°å­˜å‚¨å•å…ƒï¼ˆè§<code>å›¾1-1</code>ï¼‰ã€‚</p>
<p><img src="/images/15590347312230.jpg" alt="-w356"><br>å›¾1-1 ç£ç›˜ç‰©ç†ç»“æ„</p>
<h3 id="1-2-æ€§èƒ½å¯¹æ¯”"><a href="#1-2-æ€§èƒ½å¯¹æ¯”" class="headerlink" title="1.2 æ€§èƒ½å¯¹æ¯”"></a>1.2 æ€§èƒ½å¯¹æ¯”</h3><p>æœºæ¢°ç¡¬ç›˜çš„è¿ç»­è¯»å†™æ€§èƒ½å¾ˆå¥½ï¼Œä½†éšæœºè¯»å†™æ€§èƒ½å¾ˆå·®ã€‚</p>
<ul>
<li>é¡ºåºè®¿é—®ï¼šå†…å­˜è®¿é—®é€Ÿåº¦æ˜¯ç¡¬ç›˜è®¿é—®é€Ÿåº¦çš„6~7å€ï¼ˆ<code>kafka</code>çš„ç‰¹ç‚¹ï¼Œä»¥åæœ‰æœºä¼šçš„è¯å†è®²ä¸€è®²ï¼‰</li>
<li>éšæœºè®¿é—®ï¼šå†…å­˜è®¿é—®é€Ÿåº¦å°±è¦æ¯”ç¡¬ç›˜è®¿é—®é€Ÿåº¦å¿«ä¸Š<strong>10ä¸‡å€ä»¥ä¸Š</strong></li>
</ul>
<p>éšæœºè¯»å†™æ—¶ï¼Œç£å¤´éœ€è¦ä¸åœçš„ç§»åŠ¨ï¼Œæ—¶é—´éƒ½æµªè´¹åœ¨äº†ç£å¤´å¯»å€ä¸Šã€‚<br>è€Œåœ¨å®é™…çš„ç£ç›˜å­˜å‚¨é‡Œï¼Œæ˜¯å¾ˆå°‘é¡ºåºå­˜å‚¨çš„ï¼Œå› ä¸ºè¿™æ ·çš„ç»´æŠ¤æˆæœ¬ä¼šå¾ˆé«˜ã€‚</p>
<h2 id="äºŒã€ç´¢å¼•åœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨"><a href="#äºŒã€ç´¢å¼•åœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨" class="headerlink" title="äºŒã€ç´¢å¼•åœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨"></a>äºŒã€ç´¢å¼•åœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨</h2><p>çŸ¥é“ç£ç›˜IOçš„æ€§èƒ½äº†å§ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹MySQLæ˜¯å¦‚ä½•æ ¹æ®è¿™ç§æƒ…å†µæ¥è®¾è®¡ç´¢å¼•çš„ç‰©ç†å­˜å‚¨ï¼Œä»¥ä¸‹å†…å®¹ä»¥<code>InnoDB</code>å¼•æ“ä¸ºä¾‹ï¼Œ<code>MyISAM</code>ç•¥æœ‰ä¸åŒï¼Œåé¢å†è®²ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼ è¿™æ ·çš„è¡¨ï¼Œè¡¨ä¸­æœ‰å¦‚<code>å›¾2-0</code>çš„æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line">  <span class="string">`ID`</span> <span class="built_in">bigint</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`NAME`</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`ID`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`idx_name`</span> (<span class="string">`NAME`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br></pre></td></tr></table></figure>
<p><img src="/images/15591440502376.jpg" alt="-w200"><br>å›¾2-0 è¡¨æ•°æ®</p>
<h3 id="2-1-èšé›†ç´¢å¼•ï¼ˆClustered-index-ï¼‰"><a href="#2-1-èšé›†ç´¢å¼•ï¼ˆClustered-index-ï¼‰" class="headerlink" title="2.1 èšé›†ç´¢å¼•ï¼ˆClustered index ï¼‰"></a>2.1 èšé›†ç´¢å¼•ï¼ˆClustered index ï¼‰</h3><p>æ¯ä¸ªInnoDBè¡¨éƒ½æœ‰ä¸€ä¸ªç§°ä¸ºèšé›†ç´¢å¼•çš„ç‰¹æ®Šç´¢å¼•ï¼Œè¯¥ç´¢å¼•æ˜¯æŒ‰ç…§è¡¨çš„ä¸»é”®æ„é€ çš„ä¸€æ£µB+æ ‘ã€‚</p>
<p>æ ¹æ®ç¤ºä¾‹æ•°æ®æ„å»ºå¦‚å›¾2-1æ‰€ç¤ºèšé›†ç´¢å¼•ï¼š</p>
<p><img src="/images/15591490541318.jpg" alt></p>
<p>å›¾2-1 B+æ ‘èšé›†ç´¢å¼•</p>
<h4 id="2-1-1-çŸ¥è¯†ç‚¹"><a href="#2-1-1-çŸ¥è¯†ç‚¹" class="headerlink" title="2.1.1 çŸ¥è¯†ç‚¹"></a>2.1.1 çŸ¥è¯†ç‚¹</h4><ul>
<li>å¶å­èŠ‚ç‚¹å­˜æ”¾äº†æ•´å¼ è¡¨çš„æ‰€æœ‰è¡Œæ•°æ®ã€‚</li>
<li>éå¶å­èŠ‚ç‚¹å¹¶ä¸å­˜å‚¨è¡Œæ•°æ®ï¼Œæ˜¯ä¸ºäº†èƒ½å­˜å‚¨æ›´å¤šç´¢å¼•é”®ï¼Œä»è€Œé™ä½B+æ ‘çš„é«˜åº¦ï¼Œè¿›è€Œå‡å°‘IOæ¬¡æ•°ã€‚</li>
<li>èšé›†ç´¢å¼•çš„å­˜å‚¨åœ¨ç‰©ç†ä¸Šå¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œæ¯ä¸ªæ•°æ®é¡µåœ¨ä¸åŒçš„ç£ç›˜å—ï¼Œé€šè¿‡ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥è¿›è¡Œè¿æ¥ã€‚</li>
</ul>
<h4 id="2-1-2-æŸ¥æ‰¾ï¼šå‡è®¾è¦æŸ¥æ‰¾æ•°æ®é¡¹6"><a href="#2-1-2-æŸ¥æ‰¾ï¼šå‡è®¾è¦æŸ¥æ‰¾æ•°æ®é¡¹6" class="headerlink" title="2.1.2 æŸ¥æ‰¾ï¼šå‡è®¾è¦æŸ¥æ‰¾æ•°æ®é¡¹6"></a>2.1.2 æŸ¥æ‰¾ï¼šå‡è®¾è¦æŸ¥æ‰¾æ•°æ®é¡¹6</h4><ol>
<li>æŠŠæ ¹èŠ‚ç‚¹ç”±ç£ç›˜å—0åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿä¸€æ¬¡IOï¼Œåœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š6åœ¨3å’Œ9ä¹‹é—´ï¼›</li>
<li>é€šè¿‡æŒ‡é’ˆP2çš„ç£ç›˜åœ°å€ï¼Œå°†ç£ç›˜2åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡IOï¼Œå†åœ¨å†…å­˜ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°6ï¼Œç»“æŸã€‚</li>
</ol>
<p>è¿™é‡Œåªè¿›è¡Œäº†ä¸¤æ¬¡IOï¼Œå®é™…ä¸Šï¼Œæ¯ä¸ªç£ç›˜å—å¤§å°ä¸º4Kï¼Œ3å±‚çš„B+æ ‘å¯ä»¥è¡¨ç¤ºä¸Šç™¾ä¸‡çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡æŸ¥æ‰¾åªéœ€è¦3æ¬¡IOï¼Œæ‰€ä»¥ç´¢å¼•å¯¹æ€§èƒ½çš„æé«˜å°†æ˜¯å·¨å¤§çš„ã€‚</p>
<p><img src="/images/15591514677014.gif" alt></p>
<h4 id="2-1-3-æ€æ ·é€‰æ‹©èšé›†ç´¢å¼•"><a href="#2-1-3-æ€æ ·é€‰æ‹©èšé›†ç´¢å¼•" class="headerlink" title="2.1.3 æ€æ ·é€‰æ‹©èšé›†ç´¢å¼•"></a>2.1.3 æ€æ ·é€‰æ‹©èšé›†ç´¢å¼•</h4><p>æ¯å¼ InnoDBè¡¨æœ‰ä¸”åªæœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆé€‰æ‹©ç´¢å¼•çš„å‘¢ï¼Ÿ</p>
<ul>
<li>ä¸€èˆ¬æƒ…å†µï¼Œç”¨<code>PRIMARY KEY</code>æ¥ä½œä¸ºèšé›†ç´¢å¼•ã€‚</li>
<li>å¦‚æœæ²¡æœ‰å®šä¹‰<code>PRIMARY KEY</code>ï¼Œå°†ä¼šç”¨ç¬¬ä¸€ä¸ª<code>UNIQUE</code>ä¸”<code>NOT NULL</code>çš„åˆ—æ¥ä½œä¸ºèšé›†ç´¢å¼•ã€‚</li>
<li>å¦‚æœè¡¨æ²¡æœ‰åˆé€‚çš„<code>UNIQUE</code>ç´¢å¼•ï¼Œä¼šå†…éƒ¨æ ¹æ®è¡ŒIDå€¼ç”Ÿæˆä¸€ä¸ªéšè—çš„èšç°‡ç´¢å¼•<code>GEN_CLUST_INDEX</code>ã€‚</li>
</ul>
<p>æ‰€ä»¥åœ¨å»ºè¡¨çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰é€»è¾‘å”¯ä¸€ä¸”éç©ºåˆ—æ—¶ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªauto_incrementçš„åˆ—ï¼Œæ–¹ä¾¿å»ºç«‹ä¸€ä¸ªèšé›†ç´¢å¼•ã€‚</p>
<h3 id="2-2-éèšé›†ç´¢å¼•ï¼ˆSecondary-indexesï¼‰"><a href="#2-2-éèšé›†ç´¢å¼•ï¼ˆSecondary-indexesï¼‰" class="headerlink" title="2.2 éèšé›†ç´¢å¼•ï¼ˆSecondary indexesï¼‰"></a>2.2 éèšé›†ç´¢å¼•ï¼ˆSecondary indexesï¼‰</h3><p>éèšé›†ç´¢å¼•åˆå«è¾…åŠ©ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å¹¶ä¸åŒ…å«è¡Œè®°å½•æ•°æ®ï¼Œè€Œæ˜¯å­˜å‚¨äº†èšé›†ç´¢å¼•é”®ã€‚</p>
<p>æ ¹æ®ç¤ºä¾‹æ•°æ®ï¼ˆ<code>idx_name</code>ç´¢å¼•ï¼‰æ„å»ºå¦‚å›¾2-2æ‰€ç¤ºè¾…åŠ©ç´¢å¼•ï¼š</p>
<p><img src="/images/15591491067624.jpg" alt></p>
<p>å›¾2-2 B+æ ‘éèšé›†ç´¢å¼•</p>
<h4 id="2-2-1-çŸ¥è¯†ç‚¹"><a href="#2-2-1-çŸ¥è¯†ç‚¹" class="headerlink" title="2.2.1 çŸ¥è¯†ç‚¹"></a>2.2.1 çŸ¥è¯†ç‚¹</h4><ul>
<li>æ¯ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªè¾…åŠ©ç´¢å¼•</li>
<li>é€šè¿‡è¾…åŠ©ç´¢å¼•æŸ¥æ•°æ®æ—¶ï¼Œå…ˆæŸ¥æ‰¾è¾…åŠ©ç´¢å¼•è·å¾—èšé›†ç´¢å¼•çš„ä¸»é”®ï¼Œç„¶åé€šè¿‡ä¸»é”®ç´¢å¼•æ¥æŸ¥æ‰¾å®Œæ•´çš„è¡Œè®°å½•ã€‚</li>
<li>é€šè¿‡éä¸»é”®ç´¢å¼•æ¯”ä¸»é”®ç´¢å¼•æŸ¥æ‰¾é€Ÿåº¦è¦æ…¢ä¸€å€ã€‚</li>
</ul>
<h4 id="2-2-2-æŸ¥æ‰¾ï¼šè·å–NAME-Jakeçš„æ•°æ®"><a href="#2-2-2-æŸ¥æ‰¾ï¼šè·å–NAME-Jakeçš„æ•°æ®" class="headerlink" title="2.2.2 æŸ¥æ‰¾ï¼šè·å–NAME=Jakeçš„æ•°æ®"></a>2.2.2 æŸ¥æ‰¾ï¼šè·å–<code>NAME=Jake</code>çš„æ•°æ®</h4><p>ç¬¬ä¸€é˜¶æ®µï¼šé€šè¿‡è¾…åŠ©ç´¢å¼•æŸ¥åˆ°ä¸»é”®ç´¢å¼•çš„ä¸»é”®</p>
<ol>
<li>æŠŠidx_nameç´¢å¼•çš„æ ¹èŠ‚ç‚¹ç”±ç£ç›˜å—0åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿä¸€æ¬¡IOï¼ŒæŸ¥æ‰¾åˆ°åœ¨P2æŒ‡é’ˆä¸­</li>
<li>æ ¹æ®P2æŒ‡é’ˆçš„ç£ç›˜åœ°å€ï¼ŒåŠ è½½ç£ç›˜å—2åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡IOï¼ŒæŸ¥æ‰¾åˆ°JakeèŠ‚ç‚¹ä»¥åŠå®ƒçš„ä¸»é”®ç´¢å¼•9</li>
</ol>
<p>ç¬¬äºŒé˜¶æ®µï¼šé€šè¿‡ä¸»é”®ç´¢å¼•æ‰¾åˆ°å®Œæ•´çš„è¡Œè®°å½•</p>
<ol start="3">
<li>æŠŠæ ¹èŠ‚ç‚¹ç”±ç£ç›˜å—0åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿä¸€æ¬¡IOï¼Œåœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š9åœ¨P3æŒ‡é’ˆä¸­</li>
<li>é€šè¿‡æŒ‡é’ˆP3çš„ç£ç›˜åœ°å€ï¼Œå°†ç£ç›˜3åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡IOï¼Œå†åœ¨å†…å­˜ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°9ï¼Œä»¥åŠå®ƒçš„è¡Œè®°å½•ï¼Œ</li>
</ol>
<p>æŸ¥æ‰¾ç»“æŸã€‚</p>
<p><img src="/images/%E6%87%82%E4%BA%86%E5%90%97.jpg" alt="æ‡‚äº†å—"></p>
<p>æœªå®Œå¾…ç»­â€¦</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://craze-lee.github.io/2019/05/14/MySQL/äº‹åŠ¡çš„éš”ç¦»çº§åˆ«/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Craze lee">
      <meta itemprop="description" content="åšä¸ªæœ‰æ¸©åº¦çš„äºº">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/14/MySQL/äº‹åŠ¡çš„éš”ç¦»çº§åˆ«/" class="post-title-link" itemprop="url">ã€MySQL åŸç†ã€‘03 äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-14 10:59:08" itemprop="dateCreated datePublished" datetime="2019-05-14T10:59:08+08:00">2019-05-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-07-03 02:14:03" itemprop="dateModified" datetime="2019-07-03T02:14:03+08:00">2019-07-03</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/åŸç†åˆ†æ/" itemprop="url" rel="index"><span itemprop="name">åŸç†åˆ†æ</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span>
                <a href="/2019/05/14/MySQL/äº‹åŠ¡çš„éš”ç¦»çº§åˆ«/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/14/MySQL/äº‹åŠ¡çš„éš”ç¦»çº§åˆ«/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¸€ã€äº‹åŠ¡"><a href="#ä¸€ã€äº‹åŠ¡" class="headerlink" title="ä¸€ã€äº‹åŠ¡"></a>ä¸€ã€äº‹åŠ¡</h3><p>äº‹åŠ¡æ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé€»è¾‘å•ä½ï¼Œç”±ä¸€ä¸ªæœ‰é™çš„æ•°æ®åº“æ“ä½œåºåˆ—æ„æˆã€‚  â€“æ‘˜è‡ª<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1/9744607?fr=aladdin" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a></p>
<p><strong>çŸ¥è¯†ç‚¹ï¼šåœ¨MySQLé‡Œï¼Œäº‹åŠ¡æ˜¯åœ¨å¼•æ“å±‚é¢å®ç°ï¼Œæ¯”å¦‚MyIsamä¸æ”¯æŒï¼ŒInnoDBæ”¯æŒã€‚</strong></p>
<p><img src="/images/15620904654851.jpg" alt="-w440"></p>
<h3 id="äºŒã€ACID"><a href="#äºŒã€ACID" class="headerlink" title="äºŒã€ACID"></a>äºŒã€ACID</h3><p>æåˆ°äº‹åŠ¡ï¼Œè‚¯å®šä¼šæƒ³åˆ° ACID æ˜¯å§ï¼Œè‡ªè¡Œæ„Ÿå—ä¸€ä¸‹æ¦‚å¿µï¼Œç„¶åæˆ‘ä»¬æ¥è®²è®²éš”ç¦»æ€§çš„é—®é¢˜ã€‚</p>
<ul>
<li><p>åŸå­æ€§(<code>Atomicity</code>)ï¼šäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šã€‚</p>
</li>
<li><p>ä¸€è‡´æ€§(<code>Consistency</code>)ï¼šæ€»æ˜¯ä»ä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€ã€‚</p>
</li>
<li><p>éš”ç¦»æ€§(<code>Isolation</code>)ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œ</p>
</li>
<li><p>æŒä¹…æ€§(<code>Durability</code>)ï¼šå·²è¢«æäº¤çš„äº‹åŠ¡å¯¹æ•°æ®åº“çš„ä¿®æ”¹åº”è¯¥æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</p>
</li>
</ul>
<h3 id="ä¸‰ã€éš”ç¦»çº§åˆ«"><a href="#ä¸‰ã€éš”ç¦»çº§åˆ«" class="headerlink" title="ä¸‰ã€éš”ç¦»çº§åˆ«"></a>ä¸‰ã€éš”ç¦»çº§åˆ«</h3><p><strong><code>è„è¯»</code></strong>ã€<strong><code>å¹»è¯»</code></strong>ã€<strong><code>ä¸å¯é‡å¤è¯»</code></strong>ï¼Œåšäº†å¤šå¹´çš„ CRUDerï¼Œå¯¹è¿™å‡ ä¸ªè¯çœŸæ˜¯ä¸é™Œç”Ÿï¼Œè¦ä¸æ˜¯å‡ºå»é¢è¯•ï¼Œä¹ŸçœŸä¸ä¼šå»äº†è§£ã€‚å¸Œæœ›å¤§å®¶çœ‹å®Œä¹‹åï¼Œé¢è¯•çš„æ—¶å€™ï¼Œä¸è¦æ…Œï¼Œè·Ÿä»–åˆšã€‚</p>
<p>å®é™…ä¸Šï¼Œè¿™äº›åœºæ™¯éƒ½æ˜¯å‡ºç°åœ¨å¤šä¸ªäº‹åŠ¡åŒæ—¶æ‰§è¡Œæ—¶çš„åœºæ™¯ã€‚</p>
<h4 id="3-1-è„è¯»ï¼ˆRead-Uncommittedï¼‰"><a href="#3-1-è„è¯»ï¼ˆRead-Uncommittedï¼‰" class="headerlink" title="3.1 è„è¯»ï¼ˆRead Uncommittedï¼‰"></a>3.1 è„è¯»ï¼ˆRead Uncommittedï¼‰</h4><p>é€šä¿—çš„è®²ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨å¤„ç†è¿‡ç¨‹ä¸­è¯»å–äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚</p>
<p>ä½ éƒ½è¿˜æ²¡æäº¤å‘¢ï¼Œæˆ‘æ€ä¹ˆå°±è¯»åˆ°äº†ä½ åˆšæ“ä½œçš„æ•°æ®ï¼Œä¸‡ä¸€ä½ å›æ»šäº†æ€ä¹ˆåŠï¼Œä½ è¯´è¿™è„ä¸è„ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ“ä½œé¡ºåº</th>
<th>äº‹åŠ¡A</th>
<th>äº‹åŠ¡B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Begin</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
<td>Begin</td>
</tr>
<tr>
<td>3</td>
<td>select balance from account where id=1;(ç»“æœä¸º1)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td>update account set balance=2 where id=1;</td>
</tr>
<tr>
<td>5</td>
<td>select balance from account where id=1;(ç»“æœä¸º2)</td>
</tr>
</tbody>
</table>
<p>å‡è®¾æ‰“èµçš„é€»è¾‘æ˜¯ï¼šâ‘  æˆ‘çš„è´¦æˆ·+1å…ƒï¼›â‘¡ ä½ çš„è´¦æˆ·-1å…ƒã€‚</p>
<p>å½“ä½ æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªæ­¥éª¤ï¼Œæˆ‘å»æŸ¥è¯¢æˆ‘çš„è´¦æˆ·å·²ç»æ˜¯2å…ƒäº†ï¼Œå¾ˆå¼€å¿ƒï¼ï¼ï¼å®£å¸ƒè¯·å¤§å®¶å»æ’¸ä¸²ï¼ï¼ï¼<br>ä½†æ˜¯æœ€åæ‰£æ¬¾çš„æ—¶å€™å‘ç°ä½ ä½™é¢ä¸è¶³äº†ï¼Œå›æ»šäº†ï¼Œæˆ‘çš„1å…ƒæ²¡äº†ï¼Œå°±å¾ˆéš¾å—ï¼ï¼ï¼</p>
<p><img src="/images/15619981347126.jpg" alt="-w385"></p>
<h4 id="3-2-ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable-Readï¼‰"><a href="#3-2-ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable-Readï¼‰" class="headerlink" title="3.2 ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable Readï¼‰"></a>3.2 ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable Readï¼‰</h4><p>é€šä¿—çš„è®²ï¼Œä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ï¼Œå¤šæ¬¡æŸ¥è¯¢æŸä¸ªæ•°æ®ï¼Œå´å¾—åˆ°ä¸åŒçš„ç»“æœã€‚</p>
<p>ä¸è„è¯»çš„åŒºåˆ«ï¼šè„è¯»æ˜¯è¯»åˆ°æœªæäº¤çš„æ•°æ®ï¼Œè€Œä¸å¯é‡å¤è¯»è¯»åˆ°çš„å´æ˜¯å·²ç»æäº¤çš„æ•°æ®ï¼Œä½†å®é™…ä¸Šæ˜¯è¿åäº†äº‹åŠ¡çš„ä¸€è‡´æ€§åŸåˆ™ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ“ä½œé¡ºåº</th>
<th>äº‹åŠ¡A</th>
<th>äº‹åŠ¡B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Begin</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
<td>Begin</td>
</tr>
<tr>
<td>3</td>
<td>select balance from account where id=1;(ç»“æœä¸º1)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td>update account set balance=2 where id=1;</td>
</tr>
<tr>
<td>5</td>
<td>select balance from account where id=1;(ç»“æœä¸º1)</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td></td>
<td>commit</td>
</tr>
<tr>
<td>7</td>
<td>select balance from account where id=1;(ç»“æœä¸º2)</td>
</tr>
</tbody>
</table>
<p>å‡è®¾æˆ‘æŸ¥äº†ä¸‹è´¦æˆ·ä½™é¢ï¼Œçœ‹åˆ°ä½ ä»¬ç»™å°ç¼–æ‰“èµäº†1å—é’±ï¼Œå¾ˆå¼€å¿ƒï¼ï¼ï¼å®£å¸ƒè¯·å¤§å®¶å»æ’¸ä¸²ï¼ï¼ï¼<br>åœ¨ä»˜æ¬¾ä¹‹å‰ï¼Œé’±è¢«å¦å¤–ä¸€ä¸ªäººå–èµ°ï¼ŒåˆæŸ¥è¯¢åˆ°æ²¡é’±äº†ï¼Œè¢«ç•™ä¸‹æ¥æ´—ç¢—äº†ï¼ï¼ï¼</p>
<p>å› ä¸ºæˆ‘æŸ¥è¯¢å®Œåï¼Œè¿™æ¡æ•°æ®æ²¡é”ä½ï¼Œåˆè¢«åˆ«çš„äº‹åŠ¡æ›´æ–°äº†ï¼Œå¯¼è‡´å½“å‰äº‹åŠ¡æ¯æ¬¡éƒ½æ˜¯è¯»åˆ°æœ€æ–°çš„æ•°æ®ã€‚</p>
<p><img src="/images/15619991065513.jpg" alt="-w176"></p>
<h4 id="3-3-å¹»è¯»"><a href="#3-3-å¹»è¯»" class="headerlink" title="3.3 å¹»è¯»"></a>3.3 å¹»è¯»</h4><p>åœ¨Repeatable Readéš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡å¯èƒ½ä¼šé‡åˆ°å¹»è¯»ï¼ˆPhantom Readï¼‰çš„é—®é¢˜ã€‚</p>
<p>äº‹åŠ¡Aè¯»å–ä¸æœç´¢æ¡ä»¶ç›¸åŒ¹é…çš„è‹¥å¹²è¡Œã€‚äº‹åŠ¡Bä»¥æ’å…¥æˆ–åˆ é™¤è¡Œç­‰æ–¹å¼æ¥ä¿®æ”¹äº‹åŠ¡Açš„ç»“æœé›†ï¼Œç„¶åå†æäº¤ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ“ä½œé¡ºåº</th>
<th>äº‹åŠ¡A</th>
<th>äº‹åŠ¡B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Begin</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
<td>Begin</td>
</tr>
<tr>
<td>3</td>
<td>select * from example where id=10;(ç»“æœä¸ºç©º)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td>insert into example value(10);</td>
</tr>
<tr>
<td>5</td>
<td></td>
<td>commit</td>
</tr>
<tr>
<td>6</td>
<td>select balance from account where id=10;(ç»“æœä¸ºç©º)</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>update example set name=â€™testâ€™ where id=10 (æ›´æ–°æˆåŠŸ)</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>select * from example where id=10;(æœ‰10è¿™ä¸ªè®°å½•)</td>
</tr>
</tbody>
</table>
<p>çœ‹åˆ°äº†å—ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡Aä¸­ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢æŸæ¡è®°å½•ï¼Œæ˜¯æ²¡æœ‰çš„ï¼Œä½†æ˜¯ï¼Œå½“è¯•å›¾æ›´æ–°è¿™æ¡ä¸å­˜åœ¨çš„è®°å½•æ—¶ï¼Œç«Ÿç„¶èƒ½æˆåŠŸï¼Œå¹¶ä¸”ï¼Œå†æ¬¡è¯»å–åŒä¸€æ¡è®°å½•ï¼Œå®ƒå°±ç¥å¥‡åœ°å‡ºç°äº†ã€‚</p>
<p>å®é™…ä¸Šï¼Œåœ¨InnoDBå¼•æ“ä¸­ï¼Œå¯¹äºç´¢å¼•çš„æ‰«æï¼Œä¸ä»…é”ä½æ‰«æåˆ°çš„ç´¢å¼•ï¼Œè€Œä¸”è¿˜é”ä½è¿™äº›ç´¢å¼•è¦†ç›–çš„èŒƒå›´ï¼ˆgapï¼‰ï¼Œå› æ­¤è¿™ä¸ªèŒƒå›´æ˜¯å†…æ’å…¥æ•°æ®æ˜¯ä¸å…è®¸çš„ã€‚</p>
<p><strong>æœªå®Œå¾…ç»­â€¦</strong></p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <! -- æ·»åŠ å¾®ä¿¡å›¾æ ‡ -->
    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpeg" alt="Craze lee">
            
              <p class="site-author-name" itemprop="name">Craze lee</p>
              <p class="site-description motion-element" itemprop="description">åšä¸ªæœ‰æ¸©åº¦çš„äºº</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">40</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="/images/wechat.jpg" title="Wechat &rarr; /images/wechat.jpg"><i class="fa fa-fw fa-wechat"></i>Wechat</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                æ¨èé˜…è¯»
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://example.com" title="http://example.com" rel="noopener" target="_blank">æ¨èé˜…è¯»1</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://baidu.com" title="http://baidu.com" rel="noopener" target="_blank">æ¨èé˜…è¯»2</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Craze lee</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.0.0</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="æ€»è®¿å®¢é‡">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="æ€»è®¿é—®é‡">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: true,
    appId: 'Bs9RevGvz8MrrdrCl3NBufCh-gzGzoHsz',
    appKey: 'lxmgNdGJ8PaXo3K14ACVL2La',
    placeholder: 'å‘è¡¨è¯„è®º',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false
  });
</script>





  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
